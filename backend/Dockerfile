FROM python:3.9-slim

WORKDIR /app

COPY . .

RUN pip install -r requirements.txt

ENV NEW_RELIC_LICENSE_KEY=7086A29DAC4F96D2A8305465CF9E3116AC1BE2A801A5EE74F2377F5C3AF87704
ENV NEW_RELIC_APP_NAME=flask-app
ENV NEW_RELIC_LOG_LEVEL=info
ENV NEW_RELIC_DISTRIBUTED_TRACING_ENABLED=true

CMD ["newrelic-admin", "run-program", "python", "app.py"]
